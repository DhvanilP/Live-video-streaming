# Live-video-streaming

A simple streaming setup that allows to view live video stream from camera


## Prerequisites

* A fresh install of a Wowza Media Server. Folks at Wowza have written pretty [detailled tutorials about insatlling it](http://www.wowza.com/forums/content.php?217-Quick-Start-Guide). 
* An HTTP server like Apache 2, it will serve a page containing the flash player that will play the stream.
* Those two servers should obviously be accessible from the web, and could be running on the same computer.

## Running the app

* Open `/Android-App` directly with Android-studio.
* Give the URI of the wowza server and username and password (these settings will be stored and can be changes from app-settings).

### Opening the app on a req

* For this we need to sed a post req to https://fcm.googleapis.com/fcm/send in the following form

```
Headers:
Content-Type : application/json
Authorization : key=<Firebase_Server_Key>

Body:
{
	"to":<FCM_Registration_Token>,
	"data":{
		"name":"this is the neme field",
		"param":"this is another field"
	}
}
```
* Firebase_Server_Key can be found in your Firebase project in Project Settings -> Cloud Mesaaging tab -> Server Key/ Legacy server key (Any key will do)
* FCM_Registration token is generated by `FirebaseInstanceId.getInstance().getToken()` and can be found in Logcat of Android-studio. If you cannot find this token, click the log_button in the app, and token will be printed in logcat.


## Running the web-player

- Have apache server running
- Place the `/web` folder in `/var/www/html`
- open <a>http://<ip_address>/web/index.htm</a>
	
